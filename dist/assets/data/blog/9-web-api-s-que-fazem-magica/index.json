{"hash":"a93165c45a2d04f5d8a2eb53bc30fbe2f2d990bd","data":{"post":{"id":"acf1409d37a0e90ef31befaa6964136c","title":"9 Web API's que fazem mágica ⚡🧙🏻‍♀️🧙🏾‍♂️✨","content":"<h3 id=\"se-voltássemos-no-tempo-uns-20-anos-ou-até-menos-e-falassemos-pros-devs-daquela-época-o-que-os-navegadores-conseguem-fazer-hoje-definitivamente-não-acreditariam-olhando-em-perspectiva-o-que-os-browsers-fazem-hoje-com-certeza-garantiriam-a-entrada-do-chrome-firefox-edge-e-outros-em-hogwarts-sabemos-também-quem-ficaria-de-fora--aqueles-que-não-devem-ser-mencionados-iesafari\"><a href=\"#se-volt%C3%A1ssemos-no-tempo-uns-20-anos-ou-at%C3%A9-menos-e-falassemos-pros-devs-daquela-%C3%A9poca-o-que-os-navegadores-conseguem-fazer-hoje-definitivamente-n%C3%A3o-acreditariam-olhando-em-perspectiva-o-que-os-browsers-fazem-hoje-com-certeza-garantiriam-a-entrada-do-chrome-firefox-edge-e-outros-em-hogwarts-sabemos-tamb%C3%A9m-quem-ficaria-de-fora--aqueles-que-n%C3%A3o-devem-ser-mencionados-iesafari\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><em>Se voltássemos no tempo uns 20 anos, ou até menos, e falassemos pros devs daquela época o que os navegadores conseguem fazer hoje, definitivamente não acreditariam. Olhando em perspectiva o que os browsers fazem hoje com certeza garantiriam a entrada do Chrome, Firefox, Edge e outros em Hogwarts. Sabemos também quem ficaria de fora 👀 (aqueles que não devem ser mencionados <del>IE/Safari</del>)</em></h3>\n<p>Vamos dar um panorama de algumas Web Api's que fazem verdadeiras mágicas, especialmente em dispositivos móveis.</p>\n<h2 id=\"1-ambient-light-events-\"><a href=\"#1-ambient-light-events-\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>1. Ambient Light Events 💡</h2>\n<p>Quando o sensor de luz de um dispositivo detecta uma mudança no nível de luz, ele notifica o navegador dessa mudança. Imagine o que dá pra fazer com fotografias, ambientes escuros ou contrastes de acessibilidade Instantâneos!</p>\n<p>Exemplo:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">    <span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'ondevicelight'</span> <span class=\"token keyword\">in</span> <span class=\"token dom variable\">window</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'devicelight'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">var</span> body <span class=\"token operator\">=</span> <span class=\"token dom variable\">document</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'body'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span><span class=\"token property-access\">value</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          body<span class=\"token punctuation\">.</span><span class=\"token property-access\">classList</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">'darklight'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          body<span class=\"token punctuation\">.</span><span class=\"token property-access\">classList</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">remove</span><span class=\"token punctuation\">(</span><span class=\"token string\">'brightlight'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword control-flow\">else</span> <span class=\"token punctuation\">{</span>\n          body<span class=\"token punctuation\">.</span><span class=\"token property-access\">classList</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">'brightlight'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          body<span class=\"token punctuation\">.</span><span class=\"token property-access\">classList</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">remove</span><span class=\"token punctuation\">(</span><span class=\"token string\">'darklight'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword control-flow\">else</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'devicelight event not supported'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre>\n<blockquote>\n<p>Compatibilidade - Firefox, Firefox Android\t</p>\n</blockquote>\n<h2 id=\"2-web-bluetooth-api-\"><a href=\"#2-web-bluetooth-api-\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>2. Web Bluetooth API 📲</h2>\n<p>Isso mesmo, você tem acesso ao bluetooth via browser 💙</p>\n<blockquote>\n<p>Compatibilidade - Chrome, Edge,\tOpera, Chrome Android, Opera Android, Samsung Internet</p>\n</blockquote>\n<h2 id=\"3-broadcast-channel-api-️\"><a href=\"#3-broadcast-channel-api-%EF%B8%8F\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>3. Broadcast Channel API 🛰️</h2>\n<p>Compartilhando de informações entre janelas, tabs, iframes etc, quem já teve problema em precisar integrar esse tipo de comunicação, essa api é salvação.</p>\n<blockquote>\n<p>Compatibilidade - Chrome, Edge,\tFirefox, Opera, WebView Android, Chrome Android, Opera Android, Samsung Internet</p>\n</blockquote>\n<h2 id=\"4-contact-picker-api-\"><a href=\"#4-contact-picker-api-\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>4. Contact Picker API 👥👥</h2>\n<p>Você tem acesso aos contatos do telefone via browser (: Usar informações como nome, email, telefone, endereço e ícone se estiverem disponíveis, a aplicabilidade disso é quase infinita. </p>\n<blockquote>\n<p>Compatibilidade - Opera, WebView Android,\tChrome Android, Opera Android, Samsung Internet</p>\n</blockquote>\n<h2 id=\"5-web-video-text-tracks-format-webvtt-\"><a href=\"#5-web-video-text-tracks-format-webvtt-\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>5. Web Video Text Tracks Format (WebVTT) 🔠</h2>\n<p>Outra grande amiga da acessibilidade, quer colocar legenda nos seus vídeos? usando a tag <code class=\"language-text\">&lt;video&gt;</code>? É possível costumizar via css as legendas também. Vai fundo nessa lindeza =D</p>\n<p>Exemplo: </p>\n<p>track.vtt</p>\n<pre class=\"language-text\"><code class=\"language-text\">WEBVTT\n\n00:01.000 --> 00:04.000\n- Never drink liquid nitrogen.\n\n00:05.000 --> 00:09.000\n- It will perforate your stomach.\n- You could die.</code></pre>\n<pre class=\"language-html\"><code class=\"language-html\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>video</span> <span class=\"token attr-name\">controls</span> <span class=\"token attr-name\">autoplay</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>video.webm<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>track</span> <span class=\"token attr-name\">default</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>track.vtt<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>video</span><span class=\"token punctuation\">></span></span></code></pre>\n<blockquote>\n<p>Compatibilidade - Todos os browsers modernos</p>\n</blockquote>\n<h2 id=\"6-the-websocket-api-\"><a href=\"#6-the-websocket-api-\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>6. The WebSocket API 🔁</h2>\n<p>Essa é uma verdadeira mágica! Com essa API, você pode enviar mensagens a um servidor e receber respostas orientadas a eventos sem precisar consultar o servidor para obter uma resposta. Realtime meus amigos &#x3C;3</p>\n<blockquote>\n<p>Compatibilidade - Todos os browsers modernos</p>\n</blockquote>\n<h2 id=\"7-screen-capture-api--️\"><a href=\"#7-screen-capture-api--%EF%B8%8F\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>7. Screen Capture API  🖥️</h2>\n<p>A mágica do print! Super simples de usar!</p>\n<p>Exemplo:</p>\n<pre class=\"language-js\"><code class=\"language-js\">  <span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">startCapture</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">displayMediaOptions</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> captureStream <span class=\"token operator\">=</span> <span class=\"token keyword null nil\">null</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword control-flow\">try</span> <span class=\"token punctuation\">{</span>\n      captureStream <span class=\"token operator\">=</span> <span class=\"token keyword control-flow\">await</span> <span class=\"token dom variable\">navigator</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">mediaDevices</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getDisplayMedia</span><span class=\"token punctuation\">(</span>displayMediaOptions<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword control-flow\">catch</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Error: \"</span> <span class=\"token operator\">+</span> err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword control-flow\">return</span> captureStream<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span></code></pre>\n<blockquote>\n<p>Compatibilidade - Chrome, Edge,\tFirefox, Opera, Safari</p>\n</blockquote>\n<h2 id=\"8-proximity-events-🤳\"><a href=\"#8-proximity-events-%F0%9F%A4%B3\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>8. Proximity Events 🤳</h2>\n<p>Sabe quando a tela desliga quando coloca o telefone no ouvido? Então, essa api te dá esse poder. Detecta quando o usuário está longe do dispositivo.</p>\n<p>Bem intuitiva a implementação:</p>\n<pre class=\"language-js\"><code class=\"language-js\">  <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'userproximity'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span><span class=\"token property-access\">near</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// let's power off the screen</span>\n      <span class=\"token dom variable\">navigator</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">mozPower</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">screenEnabled</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword control-flow\">else</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// Otherwise, let's power on the screen</span>\n      <span class=\"token dom variable\">navigator</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">mozPower</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">screenEnabled</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<blockquote>\n<p>Compatibilidade -\tFirefox, Firefox Android</p>\n</blockquote>\n<h2 id=\"9-picture-in-picture-api\"><a href=\"#9-picture-in-picture-api\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>9. Picture-in-Picture API</h2>\n<p>Comum no whatsapp, facebook, youtube. Essa API permite criar o vídeo flutuante em cima de outras janelas para que os usuários possam continuar a consumir mídia enquanto interagem com outros sites de conteúdo ou aplicativos em seus dispositivos.</p>\n<blockquote>\n<p>Compatibilidade - Chrome, Edge, Opera, Safari, iOS Safari</p>\n</blockquote>\n<h3 id=\"e-tem-muito-mais-são-77-apis-com-capacidades-incríveis-cada-uma-merece-um-artigo-dedicado-vale-a-pena-conferir-e-brincar-com-elas\"><a href=\"#e-tem-muito-mais-s%C3%A3o-77-apis-com-capacidades-incr%C3%ADveis-cada-uma-merece-um-artigo-dedicado-vale-a-pena-conferir-e-brincar-com-elas\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>E tem muito mais! São 77 API's com capacidades incríveis. Cada uma merece um artigo dedicado, vale a pena conferir e brincar com elas.</h3>\n<br/>\n<p>Fonte: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">MDN web docs</a> </p>\n","date":"15/01/2021","timeToRead":3}},"context":{}}