{"hash":"a93165c45a2d04f5d8a2eb53bc30fbe2f2d990bd","data":{"post":{"id":"acf1409d37a0e90ef31befaa6964136c","title":"9 Web API's que fazem mÃ¡gica âš¡ğŸ§™ğŸ»â€â™€ï¸ğŸ§™ğŸ¾â€â™‚ï¸âœ¨","content":"<h3 id=\"se-voltÃ¡ssemos-no-tempo-uns-20-anos-ou-atÃ©-menos-e-falassemos-pros-devs-daquela-Ã©poca-o-que-os-navegadores-conseguem-fazer-hoje-definitivamente-nÃ£o-acreditariam-olhando-em-perspectiva-o-que-os-browsers-fazem-hoje-com-certeza-garantiriam-a-entrada-do-chrome-firefox-edge-e-outros-em-hogwarts-sabemos-tambÃ©m-quem-ficaria-de-fora--aqueles-que-nÃ£o-devem-ser-mencionados-iesafari\"><a href=\"#se-volt%C3%A1ssemos-no-tempo-uns-20-anos-ou-at%C3%A9-menos-e-falassemos-pros-devs-daquela-%C3%A9poca-o-que-os-navegadores-conseguem-fazer-hoje-definitivamente-n%C3%A3o-acreditariam-olhando-em-perspectiva-o-que-os-browsers-fazem-hoje-com-certeza-garantiriam-a-entrada-do-chrome-firefox-edge-e-outros-em-hogwarts-sabemos-tamb%C3%A9m-quem-ficaria-de-fora--aqueles-que-n%C3%A3o-devem-ser-mencionados-iesafari\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><em>Se voltÃ¡ssemos no tempo uns 20 anos, ou atÃ© menos, e falassemos pros devs daquela Ã©poca o que os navegadores conseguem fazer hoje, definitivamente nÃ£o acreditariam. Olhando em perspectiva o que os browsers fazem hoje com certeza garantiriam a entrada do Chrome, Firefox, Edge e outros em Hogwarts. Sabemos tambÃ©m quem ficaria de fora ğŸ‘€ (aqueles que nÃ£o devem ser mencionados <del>IE/Safari</del>)</em></h3>\n<p>Vamos dar um panorama de algumas Web Api's que fazem verdadeiras mÃ¡gicas, especialmente em dispositivos mÃ³veis.</p>\n<h2 id=\"1-ambient-light-events-\"><a href=\"#1-ambient-light-events-\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>1. Ambient Light Events ğŸ’¡</h2>\n<p>Quando o sensor de luz de um dispositivo detecta uma mudanÃ§a no nÃ­vel de luz, ele notifica o navegador dessa mudanÃ§a. Imagine o que dÃ¡ pra fazer com fotografias, ambientes escuros ou contrastes de acessibilidade InstantÃ¢neos!</p>\n<p>Exemplo:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">    <span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'ondevicelight'</span> <span class=\"token keyword\">in</span> <span class=\"token dom variable\">window</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'devicelight'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">var</span> body <span class=\"token operator\">=</span> <span class=\"token dom variable\">document</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'body'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span><span class=\"token property-access\">value</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          body<span class=\"token punctuation\">.</span><span class=\"token property-access\">classList</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">'darklight'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          body<span class=\"token punctuation\">.</span><span class=\"token property-access\">classList</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">remove</span><span class=\"token punctuation\">(</span><span class=\"token string\">'brightlight'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword control-flow\">else</span> <span class=\"token punctuation\">{</span>\n          body<span class=\"token punctuation\">.</span><span class=\"token property-access\">classList</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">'brightlight'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          body<span class=\"token punctuation\">.</span><span class=\"token property-access\">classList</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">remove</span><span class=\"token punctuation\">(</span><span class=\"token string\">'darklight'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword control-flow\">else</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'devicelight event not supported'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre>\n<blockquote>\n<p>Compatibilidade - Firefox, Firefox Android\t</p>\n</blockquote>\n<h2 id=\"2-web-bluetooth-api-\"><a href=\"#2-web-bluetooth-api-\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>2. Web Bluetooth API ğŸ“²</h2>\n<p>Isso mesmo, vocÃª tem acesso ao bluetooth via browser ğŸ’™</p>\n<blockquote>\n<p>Compatibilidade - Chrome, Edge,\tOpera, Chrome Android, Opera Android, Samsung Internet</p>\n</blockquote>\n<h2 id=\"3-broadcast-channel-api-ï¸\"><a href=\"#3-broadcast-channel-api-%EF%B8%8F\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>3. Broadcast Channel API ğŸ›°ï¸</h2>\n<p>Compartilhando de informaÃ§Ãµes entre janelas, tabs, iframes etc, quem jÃ¡ teve problema em precisar integrar esse tipo de comunicaÃ§Ã£o, essa api Ã© salvaÃ§Ã£o.</p>\n<blockquote>\n<p>Compatibilidade - Chrome, Edge,\tFirefox, Opera, WebView Android, Chrome Android, Opera Android, Samsung Internet</p>\n</blockquote>\n<h2 id=\"4-contact-picker-api-\"><a href=\"#4-contact-picker-api-\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>4. Contact Picker API ğŸ‘¥ğŸ‘¥</h2>\n<p>VocÃª tem acesso aos contatos do telefone via browser (: Usar informaÃ§Ãµes como nome, email, telefone, endereÃ§o e Ã­cone se estiverem disponÃ­veis, a aplicabilidade disso Ã© quase infinita. </p>\n<blockquote>\n<p>Compatibilidade - Opera, WebView Android,\tChrome Android, Opera Android, Samsung Internet</p>\n</blockquote>\n<h2 id=\"5-web-video-text-tracks-format-webvtt-\"><a href=\"#5-web-video-text-tracks-format-webvtt-\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>5. Web Video Text Tracks Format (WebVTT) ğŸ” </h2>\n<p>Outra grande amiga da acessibilidade, quer colocar legenda nos seus vÃ­deos? usando a tag <code class=\"language-text\">&lt;video&gt;</code>? Ã‰ possÃ­vel costumizar via css as legendas tambÃ©m. Vai fundo nessa lindeza =D</p>\n<p>Exemplo: </p>\n<p>track.vtt</p>\n<pre class=\"language-text\"><code class=\"language-text\">WEBVTT\n\n00:01.000 --> 00:04.000\n- Never drink liquid nitrogen.\n\n00:05.000 --> 00:09.000\n- It will perforate your stomach.\n- You could die.</code></pre>\n<pre class=\"language-html\"><code class=\"language-html\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>video</span> <span class=\"token attr-name\">controls</span> <span class=\"token attr-name\">autoplay</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>video.webm<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>track</span> <span class=\"token attr-name\">default</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>track.vtt<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>video</span><span class=\"token punctuation\">></span></span></code></pre>\n<blockquote>\n<p>Compatibilidade - Todos os browsers modernos</p>\n</blockquote>\n<h2 id=\"6-the-websocket-api-\"><a href=\"#6-the-websocket-api-\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>6. The WebSocket API ğŸ”</h2>\n<p>Essa Ã© uma verdadeira mÃ¡gica! Com essa API, vocÃª pode enviar mensagens a um servidor e receber respostas orientadas a eventos sem precisar consultar o servidor para obter uma resposta. Realtime meus amigos &#x3C;3</p>\n<blockquote>\n<p>Compatibilidade - Todos os browsers modernos</p>\n</blockquote>\n<h2 id=\"7-screen-capture-api--ï¸\"><a href=\"#7-screen-capture-api--%EF%B8%8F\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>7. Screen Capture API  ğŸ–¥ï¸</h2>\n<p>A mÃ¡gica do print! Super simples de usar!</p>\n<p>Exemplo:</p>\n<pre class=\"language-js\"><code class=\"language-js\">  <span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">startCapture</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">displayMediaOptions</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> captureStream <span class=\"token operator\">=</span> <span class=\"token keyword null nil\">null</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword control-flow\">try</span> <span class=\"token punctuation\">{</span>\n      captureStream <span class=\"token operator\">=</span> <span class=\"token keyword control-flow\">await</span> <span class=\"token dom variable\">navigator</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">mediaDevices</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getDisplayMedia</span><span class=\"token punctuation\">(</span>displayMediaOptions<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword control-flow\">catch</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Error: \"</span> <span class=\"token operator\">+</span> err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword control-flow\">return</span> captureStream<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span></code></pre>\n<blockquote>\n<p>Compatibilidade - Chrome, Edge,\tFirefox, Opera, Safari</p>\n</blockquote>\n<h2 id=\"8-proximity-events-ğŸ¤³\"><a href=\"#8-proximity-events-%F0%9F%A4%B3\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>8. Proximity Events ğŸ¤³</h2>\n<p>Sabe quando a tela desliga quando coloca o telefone no ouvido? EntÃ£o, essa api te dÃ¡ esse poder. Detecta quando o usuÃ¡rio estÃ¡ longe do dispositivo.</p>\n<p>Bem intuitiva a implementaÃ§Ã£o:</p>\n<pre class=\"language-js\"><code class=\"language-js\">  <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'userproximity'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span><span class=\"token property-access\">near</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// let's power off the screen</span>\n      <span class=\"token dom variable\">navigator</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">mozPower</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">screenEnabled</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword control-flow\">else</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// Otherwise, let's power on the screen</span>\n      <span class=\"token dom variable\">navigator</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">mozPower</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">screenEnabled</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<blockquote>\n<p>Compatibilidade -\tFirefox, Firefox Android</p>\n</blockquote>\n<h2 id=\"9-picture-in-picture-api\"><a href=\"#9-picture-in-picture-api\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>9. Picture-in-Picture API</h2>\n<p>Comum no whatsapp, facebook, youtube. Essa API permite criar o vÃ­deo flutuante em cima de outras janelas para que os usuÃ¡rios possam continuar a consumir mÃ­dia enquanto interagem com outros sites de conteÃºdo ou aplicativos em seus dispositivos.</p>\n<blockquote>\n<p>Compatibilidade - Chrome, Edge, Opera, Safari, iOS Safari</p>\n</blockquote>\n<h3 id=\"e-tem-muito-mais-sÃ£o-77-apis-com-capacidades-incrÃ­veis-cada-uma-merece-um-artigo-dedicado-vale-a-pena-conferir-e-brincar-com-elas\"><a href=\"#e-tem-muito-mais-s%C3%A3o-77-apis-com-capacidades-incr%C3%ADveis-cada-uma-merece-um-artigo-dedicado-vale-a-pena-conferir-e-brincar-com-elas\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>E tem muito mais! SÃ£o 77 API's com capacidades incrÃ­veis. Cada uma merece um artigo dedicado, vale a pena conferir e brincar com elas.</h3>\n<br/>\n<p>Fonte: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">MDN web docs</a> </p>\n","date":"15/01/2021","timeToRead":3}},"context":{}}